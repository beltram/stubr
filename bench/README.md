# Benchmark

* stubr
    * version: 0.4.10
    * rust version: 1.56.1
* wiremock
    * java version: openjdk 11.0.11 2021-04-20
    * wiremock version: 2.31.0

### 1 vu

| scenario (duration / vu) |  avg latency (+/-)   | avg req/sec (+/-) | total req | total bytes | avg cpu % |  avg mem   |
|:------------------------:|:--------------------:|:-----------------:|:---------:|:-----------:|:---------:|:----------:|
|   stubr-ping (60s / 1)   |  73 µs (+/- 95 µs)   | 14135 (+/- 2826)  |  845263   |  82835774   |  66.4218  |  3132 Kb   |
| wiremock-ping (60s / 1)  | 242 µs (+/- 2344 µs) |  9249 (+/- 3184)  |  552278   |  59093848   |  116.54   | 297.836 Mb |

### 100 vu

| scenario (duration / vu)  |   avg latency (+/-)    | avg req/sec (+/-) | total req | total bytes | avg cpu % |  avg mem   |
|:-------------------------:|:----------------------:|:-----------------:|:---------:|:-----------:|:---------:|:----------:|
|  stubr-ping (60s / 100)   | 3876 µs (+/- 2175 µs)  |   265 (+/- 61)    |  1588902  |  155712396  |  96.3259  | 7657.7 Kb  |
| wiremock-ping (60s / 100) | 7943 µs (+/- 25741 µs) |   296 (+/- 142)   |  1754746  |  187761494  |  465.812  | 335.388 Mb |

### response templating

|        scenario (duration / vu)        |    avg latency (+/-)    | avg req/sec (+/-) | total req | total bytes | avg cpu % |  avg mem   |
|:--------------------------------------:|:-----------------------:|:-----------------:|:---------:|:-----------:|:---------:|:----------:|
|  stubr-response-template (60s / 100)   |  5374 µs (+/- 3014 µs)  |   193 (+/- 42)    |  1159771  |  165847253  |  96.9436  | 8564.73 Kb |
| wiremock-response-template (60s / 100) | 10037 µs (+/- 46925 µs) |   282 (+/- 96)    |  1661994  |  217726854  |  468.343  | 346.824 Mb |

### many loaded stubs

| scenario (duration / vu)  |   avg latency (+/-)    | avg req/sec (+/-) | total req | total bytes | avg cpu % |  avg mem   |
|:-------------------------:|:----------------------:|:-----------------:|:---------:|:-----------:|:---------:|:----------:|
|  stubr-many (60s / 100)   | 3409 µs (+/- 1111 µs)  |   298 (+/- 65)    |  1781831  |  174619438  |  98.3927  | 7227.05 Kb |
| wiremock-many (60s / 100) | 8667 µs (+/- 44559 µs) |   356 (+/- 113)   |  2104940  |  225233170  |  465.066  | 411.96 Mb  |

### cold start

| scenario (duration / vu) |   avg latency (+/-)    | avg req/sec (+/-) | total req | total bytes | avg cpu % | avg mem |
|:------------------------:|:----------------------:|:-----------------:|:---------:|:-----------:|:---------:|:-------:|
|   stubr-ping (2s / 10)   |   332 µs (+/- 84 µs)   |  2998 (+/- 297)   |   62669   |   6141562   |   80.8    | 3596 Kb |
| wiremock-ping (2s / 10)  | 5134 µs (+/- 14488 µs) |   973 (+/- 457)   |   18595   |   1990073   |    NA     |   NA    |