[package]
name = "stubr"
version = "0.4.4"
edition = "2018"
authors = ["Beltram Maldant"]
description = "Wiremock implemented in Rust"
homepage = "https://github.com/beltram/stubr"
repository = "https://github.com/beltram/stubr"
license = "Apache-2.0"
keywords = ["cli", "mock", "test", "contract", "http"]
categories = ["command-line-utilities", "development-tools::testing"]

include = ["/src/*", "/Cargo.toml"]

[dependencies]
wiremock = "0.5.2"
anyhow = "1.0.40"
async-trait = "0.1.50"
serde_json = "1.0.64"
http-types = "2.11.1"
itertools = "0.10.0"
const_format = "0.2.14"
regex = "1.4.6"
jsonpath_lib = "0.3.0"
handlebars = "3.5.3"
lazy_static = "1.4.0"
base64 = "0.13.0"
futures = "0.3.15"
chrono = "0.4.19"
simpledateformat = "0.1.1"
humantime = "2.1.0"
chrono-tz = "0.5.3"
percent-encoding = "2.1.0"
log = "0.4.14"

warp = { version = "0.3.1", default-features = false }
warp-reverse-proxy = "0.3.2"
tokio = "1.6.1"

isahc = { version = "1.4.0", optional = true }

[dependencies.serde]
version = "1.0.126"
features = ["derive"]

[dependencies.async-std]
version = "1.9.0"
features = ["attributes"]

[dev-dependencies]
surf = "2.2.0"
tempfile = "3.2.0"
isahc = { version = "1.4.0", features = ["json"] }
tokio = { version = "1.6.1", features = ["macros", "rt-multi-thread"] }

[dev-dependencies.criterion]
version = "0.3.4"
features = ["async_std", "html_reports"]

[[bench]]
name = "startup"
path = "benches/startup.rs"
harness = false

[[bench]]
name = "matching"
path = "benches/matching.rs"
harness = false

[[bench]]
name = "response"
path = "benches/response.rs"
harness = false

[[bench]]
name = "templating"
path = "benches/templating.rs"
harness = false

[features]
default = ["test-isahc"]
cloud = []
test-isahc = ["isahc"]